<!DOCTYPE HTML>

<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Saunalaskuri</title>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css" />

  <link href="styles.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment-with-locales.min.js"></script>   
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>

</head>
<!-- Display the countdown timer in an element -->
<body>
  <div class="main-container">
    <h1 class="h1">Saunalaskuri</h1>
    
    <div class="container">
      
      <div class="row">
          <div class='col-sm-12'>
              <p class="p-font">Milloin sauna on lämmitetään?</p>
              <input type='text' class="form-control" id='datetimepicker4' value="Milloin sauna on lämmin?"/>
              <button class="btn" id="button">Laske aika löylyihin</button>
          </div>
          
          <script type="text/javascript">
              $(function () {
                  $('#datetimepicker4').datetimepicker({
                    locale: 'fi'
                  });
                  $('#button').on('click', function (e) {
                    e.preventDefault();
                    var formDate = $('#datetimepicker4').data('DateTimePicker').date().unix();
                    var formdDateModified = formDate * 1000;
                    
                    var x = setInterval(function() {

                      // Get todays date and time
                      var todayNow = new Date().getTime();
                      //console.log(now);
                      //console.log(formDate * 1000)
                      // Find the distance between now and the count down date
                      var distance = formdDateModified - todayNow;
                      console.log(distance)
                      // Time calculations for days, hours, minutes and seconds
                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                      // Display the result in the element with id="demo"
                      document.getElementById("demo").innerHTML = "Saunaan aikaa: " + days + " päivää " + hours + " tuntia "
                      + minutes + " minuuttia " + seconds + " sekuntia ";

                      // If the count down is finished, write some text 
                      if (distance < 0) {
                        clearInterval(x);
                        document.getElementById("demo").innerHTML = "SAUNAAN";
                      }
                    }, 1000);  


                  });
              });
          </script>
      </div>
    </div>
    <h1 id="demo""></h1>
  </div>
</body>
</html>


<!-- <script>
// Set the date we're counting down to
var countDownDate = new Date("Sep 21, 2019 19:00").getTime();
console.log(countDownDate);
// Update the count down every 1 second
var x = setInterval(function() {

  // Get todays date and time
  var nowOld = new Date().getTime();
 console.log("nyt    " + nowOld)
  // Find the distance between now and the count down date
  var distance = countDownDate - nowOld;
  console.log("vanha   " + distance)
  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Display the result in the element with id="demo"
  document.getElementById("demo").innerHTML = "Saunaan aikaa: " + days + " päivää " + hours + " tuntia "
  + minutes + " minuuttia " + seconds + " sekuntia ";

  // If the count down is finished, write some text 
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("demo").innerHTML = "SAUNAAN";
  }
}, 1000);
</script> -->